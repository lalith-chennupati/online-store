
Showing logs for build [32msalaboy-online-store-master-rel-6q6km-5[0m stage [32mfrom-build-pack[0m and container [32mcredential-initializer[0m
{"level":"info","ts":1595852405.905086,"caller":"creds-init/main.go:44","msg":"Credentials initialized."}

Showing logs for build [32msalaboy-online-store-master-rel-6q6km-5[0m stage [32mfrom-build-pack[0m and container [32mworking-dir-initializer[0m

Showing logs for build [32msalaboy-online-store-master-rel-6q6km-5[0m stage [32mfrom-build-pack[0m and container [32mplace-tools[0m

Showing logs for build [32msalaboy-online-store-master-rel-6q6km-5[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-salaboy-online-store-master-rel-6q6km-lr6tp[0m
{"level":"info","ts":1595852416.6517994,"caller":"git/git.go:105","msg":"Successfully cloned https://github.com/*******/online-store.git @ v0.0.7 in path /workspace/source"}
{"level":"warn","ts":1595852416.6520584,"caller":"git/git.go:152","msg":"Unexpected error: creating symlink: symlink /tekton/home/.ssh /root/.ssh: file exists"}
{"level":"info","ts":1595852416.6946814,"caller":"git/git.go:133","msg":"Successfully initialized and updated submodules in path /workspace/source"}

Showing logs for build [32msalaboy-online-store-master-rel-6q6km-5[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32msalaboy-online-store-master-rel-6q6km-5[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:c48322a0ab75677284aaf9ceb265d142a4428e04
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32msalaboy-online-store-master-rel-6q6km-5[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32msalaboy-online-store-master-rel-6q6km-5[0m stage [32mfrom-build-pack[0m and container [32mstep-build-mvn-deploy[0m
Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, then you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads=N
[INFO] Scanning for projects...
[INFO] 
[INFO] --------------------< com.*******.lke:online-store >--------------------
[INFO] Building My Simple App on LKE 0.0.7
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ online-store ---
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ online-store ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ online-store ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /workspace/source/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ online-store ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /workspace/source/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ online-store ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /workspace/source/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ online-store ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.*******.lke.DemoApplicationTests
12:20:38.628 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.*******.lke.DemoApplicationTests]
12:20:38.635 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:20:38.703 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:20:38.725 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.*******.lke.DemoApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:20:38.806 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.*******.lke.DemoApplicationTests], using SpringBootContextLoader
12:20:38.810 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.*******.lke.DemoApplicationTests]: class path resource [com/*******/lke/DemoApplicationTests-context.xml] does not exist
12:20:38.810 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.*******.lke.DemoApplicationTests]: class path resource [com/*******/lke/DemoApplicationTestsContext.groovy] does not exist
12:20:38.811 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.*******.lke.DemoApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
12:20:38.811 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.*******.lke.DemoApplicationTests]: DemoApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:20:38.923 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.*******.lke.DemoApplicationTests]
12:20:39.120 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/workspace/source/target/classes/com/*******/lke/DemoApplication.class]
12:20:39.129 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.*******.lke.DemoApplication for test class com.*******.lke.DemoApplicationTests
12:20:39.498 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.*******.lke.DemoApplicationTests]: using defaults.
12:20:39.499 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
12:20:39.509 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
12:20:39.510 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/TransactionDefinition]
12:20:39.511 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]
12:20:39.511 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@50eac852, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@16ec5519, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2f7298b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@188715b5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1ea9f6af, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6a192cfe, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5119fb47, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7193666c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@20deea7f]
12:20:39.513 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.*******.lke.DemoApplicationTests]
12:20:39.513 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.*******.lke.DemoApplicationTests]
12:20:39.514 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.*******.lke.DemoApplicationTests]
12:20:39.514 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.*******.lke.DemoApplicationTests]
12:20:39.515 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.*******.lke.DemoApplicationTests]
12:20:39.515 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.*******.lke.DemoApplicationTests]
12:20:39.519 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@1a451d4d testClass = DemoApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [ReactiveWebMergedContextConfiguration@7fa98a66 testClass = DemoApplicationTests, locations = '{}', classes = '{class com.*******.lke.DemoApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27a8c74e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@646d64ab, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2f943d71, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2a742aa2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2c039ac6], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
12:20:39.520 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.*******.lke.DemoApplicationTests]
12:20:39.520 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.*******.lke.DemoApplicationTests]
12:20:39.524 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@1a451d4d testClass = DemoApplicationTests, testInstance = com.*******.lke.DemoApplicationTests@359f7cdf, testMethod = [null], testException = [null], mergedContextConfiguration = [ReactiveWebMergedContextConfiguration@7fa98a66 testClass = DemoApplicationTests, locations = '{}', classes = '{class com.*******.lke.DemoApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@27a8c74e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@646d64ab, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2f943d71, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2a742aa2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2c039ac6], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]].
12:20:39.607 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=-1}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.1.9.RELEASE)

2020-07-27 12:20:40.419  INFO 71 --- [           main] com.*******.lke.DemoApplicationTests     : Starting DemoApplicationTests on *******-online-store-master-rel-6q6km-5-from-build-pack-j-4sv5w with PID 71 (started by root in /workspace/source)
2020-07-27 12:20:40.421  INFO 71 --- [           main] com.*******.lke.DemoApplicationTests     : No active profile set, falling back to default profiles: default
2020-07-27 12:20:48.312  INFO 71 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-07-27 12:20:50.336  INFO 71 --- [           main] com.*******.lke.DemoApplicationTests     : Started DemoApplicationTests in 10.721 seconds (JVM running for 12.727)
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.596 s - in com.*******.lke.DemoApplicationTests
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] 
[INFO] --- maven-jar-plugin:3.1.2:jar (default-jar) @ online-store ---
[INFO] Building jar: /workspace/source/target/online-store-0.0.7.jar
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.1.9.RELEASE:repackage (repackage) @ online-store ---
[INFO] Replacing main artifact with repackaged archive
[INFO] 
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ online-store ---
[INFO] Installing /workspace/source/target/online-store-0.0.7.jar to /home/jenkins/.mvnrepository/com/*******/lke/online-store/0.0.7/online-store-0.0.7.jar
[INFO] Installing /workspace/source/pom.xml to /home/jenkins/.mvnrepository/com/*******/lke/online-store/0.0.7/online-store-0.0.7.pom
[INFO] 
[INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ online-store ---
[INFO] Using alternate deployment repository local-nexus::default::http://nexus/repository/maven-releases/
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  35.699 s
[INFO] Finished at: 2020-07-27T12:20:57Z
[INFO] ------------------------------------------------------------------------

Showing logs for build [32msalaboy-online-store-master-rel-6q6km-5[0m stage [32mfrom-build-pack[0m and container [32mstep-build-skaffold-version[0m
v1.0.1

Showing logs for build [32msalaboy-online-store-master-rel-6q6km-5[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
E0727 12:21:38.916367      12 aws_credentials.go:77] while getting AWS credentials NoCredentialProviders: no valid providers in chain. Deprecated.
	For verbose messaging see aws.Config.CredentialsChainVerboseErrors
[36mINFO[0m[0042] Using dockerignore file: /workspace/source/.dockerignore 
[36mINFO[0m[0042] Retrieving image manifest openjdk:8-jdk-slim 
[36mINFO[0m[0043] Retrieving image manifest openjdk:8-jdk-slim 
[36mINFO[0m[0045] Built cross stage deps: map[]                
[36mINFO[0m[0045] Retrieving image manifest openjdk:8-jdk-slim 
[36mINFO[0m[0046] Retrieving image manifest openjdk:8-jdk-slim 
[36mINFO[0m[0047] Executing 0 build triggers                   
[36mINFO[0m[0047] cmd: EXPOSE                                  
[36mINFO[0m[0047] Adding exposed port: 8080/tcp                
[36mINFO[0m[0047] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0047] Checking for cached layer docker.io/todo/cache:e1924a28f16453e9734342783f8ea03c722d7a5cf6510539acb19be17b8b0537... 
[36mINFO[0m[0048] No cached layer found for cmd COPY pom.xml target/lib* /opt/lib/ 
[36mINFO[0m[0048] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0048] Unpacking rootfs as cmd COPY pom.xml target/lib* /opt/lib/ requires it. 
[36mINFO[0m[0055] ENV PORT 8080                                
[36mINFO[0m[0055] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0055] ENV CLASSPATH /opt/lib                       
[36mINFO[0m[0055] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0055] EXPOSE 8080                                  
[36mINFO[0m[0055] cmd: EXPOSE                                  
[36mINFO[0m[0055] Adding exposed port: 8080/tcp                
[36mINFO[0m[0055] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0055] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0055] COPY pom.xml target/lib* /opt/lib/           
[36mINFO[0m[0055] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0055] Resolving 1 paths                            
[36mINFO[0m[0055] Taking snapshot of files...                  
[36mINFO[0m[0055] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0055] Pushing layer docker.io/todo/cache:e1924a28f16453e9734342783f8ea03c722d7a5cf6510539acb19be17b8b0537 to cache now 
[36mINFO[0m[0055] COPY target/*.jar /opt/app.jar               
[36mINFO[0m[0055] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0055] Resolving 1 paths                            
[36mINFO[0m[0055] Taking snapshot of files...                  
[36mINFO[0m[0056] WORKDIR /opt                                 
[36mINFO[0m[0056] cmd: workdir                                 
[36mINFO[0m[0056] Changed working directory to /opt            
[36mINFO[0m[0056] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0056] CMD ["java", "-XX:+UnlockExperimentalVMOptions", "-XX:+UseCGroupMemoryLimitForHeap", "-jar", "app.jar"] 
[36mINFO[0m[0056] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0056] Pushing layer docker.io/todo/cache:9b0768b7763003ba1a5d8e004c1ac5fd4a47d0811aff40c0f5112e3e73b6acb6 to cache now 
[33mWARN[0m[0058] error uploading layer to cache: failed to push to destination docker.io/todo/cache:e1924a28f16453e9734342783f8ea03c722d7a5cf6510539acb19be17b8b0537: HEAD https://index.docker.io/v2/todo/cache/blobs/sha256:00e390cecafc1fcdfedc9ee391df321db15336d53e90cced9d16b4942c1c042e: unsupported status code 401 
error pushing image: failed to push to destination docker.io/*******/online-store:0.0.7: Put "https://index.docker.io/v2/*******/online-store/manifests/0.0.7": EOF
[31m
Pipeline failed on stage 'from-build-pack' : container 'step-build-container-build'. The execution of the pipeline has stopped.[0m
